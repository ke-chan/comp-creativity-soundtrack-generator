<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>TransProse 2.0</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Sidebar -->
			<section id="sidebar">
				<div class="inner">
					<nav>
						<ul>
							<li><a href="#intro">Overview</a></li>
							<li><a href="#one">Methods</a></li>
							<li><a href="#two">Results and Output</a></li>
							<li><a href="#three">About Us</a></li>
						</ul>
					</nav>
				</div>
			</section>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Intro -->
					<section id="intro" class="wrapper style1 fullscreen fade-up">
						<div class="inner">
							<h1>TransProse 2.0</h1>
							<p>TransProse 2.0 is an extension of prior <a href="https://arxiv.org/pdf/1403.2124.pdf">work</a> by Hannah Davis and
								Said Mohammed that generates music from literature. We've recreated the original model by Davis and added harmonization,
								as well as connected the system to <a href="https://magenta.tensorflow.org/">Magenta</a> which takes a MIDI primer
								and generates contiuations of the music. Our goal is to generate leitmotifs for characters based off of descriptions of
								the character
							</p>
							<ul class="actions">
								<li><a href="#one" class="button scrolly">Learn more</a></li>
							</ul>
						</div>
					</section>

				<!-- One -->
					<section id="one" class="wrapper style2 spotlights">
						<section>
							<a href="#" class="image"><img src="images/pic01.jpg" alt="" data-position="center center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Text Pre-Processing</h2>
									<p>We are able to read text from a text file or a URL of a Wikia page for a character. Taking the text as input, we clean it of all punctuation and stop words.</p>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="images/pic02.jpg" alt="" data-position="top center" /></a>
							<div class="content">
								<div class="inner">
									<h2>Emotional Densities</h2>
									<p>With the filtered list of words, we examine each word and compare it against the
										<a href="https://saifmohammad.com/WebPages/NRC-Emotion-Lexicon.htm">NRC Emotion Lexicon</a>
										to count the number of words at are associated with positive and negative connotations, as well as emotions
										such as fear, anger, trust, sadness, disgust, anticipation, joy, and surprise. From there, densities of a particular emotion
										are calculated against the overall number of words.
									</p>
								</div>
							</div>
						</section>
						<section>
							<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
							<div class="content">
								<div class="inner">
									<h2>Musical Mode</h2>
									<p>TransProse simplifies mode selection by limiting to two diatonic modes Major (Dorian) and Minor (Aeolian).
									for simplicity, TransProse outputs either C Major or A Minor (the relative minor key of C Major), essentially a Key Signature
									with no sharps or flats. Once the output is produced, a composer could transpose, or shift the key, of the theme.</p>
									<p>Mode selection is calculated based on the ratio of negative to postive words in the entire text. A ratio of above 1
										is mapped to C Major while a ratio of below 1 is mapped to A Minor.</p>
								</div>
							</div>
						</section>
						<section>
								<a href="#" class="image"><img src="images/pic01.jpg" alt="" data-position="center center" /></a>
								<div class="content">
									<div class="inner">
										<h2>Melodic Structure</h2>
										<p>The original TransProse algorithm maps text features to three simultaneous melodies. The first melody represents
										the overall emotional arc of the text, while the 2nd and 3rd melodies represent the 1st and 2nd most prevelant coded emotions
										in the text. For example, a text might have an overall emotional melody, a melody representing the anger as tracked over the entire
										text, and a melody represnting sadness over the entire text.</p>
									</div>
								</div>
							</section>
							<section>
								<a href="#" class="image"><img src="images/main_melody_voicing.png" alt="" data-position="25% 25%" /></a>
								<div class="content">
									<div class="inner">
										<h2>Melodic Voicing</h2>
										<p>The voicing of each melody, in other words, what octave on a piano the melody will traverse, is proportional to the difference between
											the joy and sadness densities of the text. The voicing of the main melodic line is calculated via equation to the left.</p>

										<p>Here, <em>JS</em> represents the difference between the Joy and Sadness densities in the input text. <em>JS</em><sub>min</sub> represents
											the minimum <em>JS</em> value across a corpus of texts that the authors analyzed while <em>JS</em><sub>max</sub> represents the max across
											that corpus.</p>

										<p>This guarantees that the overall melodic voice (<em>M</em><sub>0</sub>) is linearly mapped to either octave 4, 5, or 6 on a piano keyboard. The second two melodic
											voices are then calculated based off the octave of <em>M</em><sub>0</sub>.</p>

										<img src="images/second_melodic_voicing.png" />

										<p>In other words, the octave of <em>M</em><sub>1</sub> is an octave higher than <em>M</em><sub>0</sub> if the emotion it represents is
											a positive emotion (Joy or Trust), an octave lower if the emotion it represents is negative (Anger, Fear, Sadness, or Disgust), and the
											same if the emotion it represents is Surprise or Anticipation.</p>
									</div>
								</div>
							</section>
							<section>
								<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
								<div class="content">
									<div class="inner">
										<h2>Note Durations</h2>
										<p>Each melody is split into four sections that map to four sections of the novel: beginning, early middle, late middle, and conclusion. TransProse also
											simplifies the phrase structure in that each section is reprented by exactly four measures. This results in a theme of exactly 16 measures in length.
											In this manner, each measure represents the corresponding sub-section of the input text.</p>

										<p>Each musical note needs to represent a specific length of time. TransProse purposefully limits itself to notes across 5 different durations:
										whole notes, half notes, quarter notes, eighth notes, and sixteenth notes. In essence, the system aims to represent high emotional content
										with many notes, while lower emotional content is mapped to fewer notes. To do this, we create a piecewise linear mapping by aking the interval between
								 		maximum emotional density and minimum emotional density and splitting it into five equal parts. Thus, for each measure (or subsection of the input text),
										the density is mapped to a specific number of notes depending on within which interval the density lies.</p>
										<ul class="actions">
											<li><a href="generic.html" class="button">Learn more</a></li>
											<li><a href="generic.html" class="button">Test</a></li>
										</ul>
									</div>
								</div>
							</section>
							<section>
								<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
								<div class="content">
									<div class="inner">
										<h2>Pitch Selection</h2>
									<p>Until now, we have forgone a discussion of what might be the most important part of melody composition: pitch. Just as duration is calculated based
										on the correpsonding subsection of the input text, so is pitch. The underlying idea is that more consonant pitches in the key are mapped to lower emotion
										densities while less consonant pitches are mapped to higher emotion densities.</p>
										<p>Consonance is piecewise mapped similar to note density, except it is based on the idea of scale degrees across the corresponding Major or Minor scale.
											Each of the 7 notes of a Major or Minor scale is referred to as a <em>scale degree</em> where, due to the harmonic series, most Western musicians
											hear as more consonant or less consonant in that key.</p>
											<table style="width:100%">
												<tr>
													<th>Scale Degree</th>
													<th>Name</th>
													<th>Consonance Ranking <br>(lower means more consonant)</th>
												</tr>
												<tr>
													<td>1</td>
													<td>Tonic</td>
													<td>1</td>
												</tr>
												<tr>
													<td>2</td>
													<td>Supertonic</td>
													<td>5</td>
												</tr>
												<tr>
													<td>3</td>
													<td>Mediant</td>
													<td>3</td>
												</tr>
												<tr>
													<td>4</td>
													<td>Subdominant</td>
													<td>6</td>
												</tr>
												<tr>
													<td>5</td>
													<td>Dominant</td>
													<td>2</td>
												</tr>
												<tr>
													<td>6</td>
													<td>Submediant</td>
													<td>4</td>
												</tr>
												<tr>
													<td>7</td>
													<td>Subtonic (in minor)</td>
													<td>7</td>
												</tr>
												<tr>
													<td>7</td>
													<td>Leading Tone (in major)</td>
													<td>7</td>
												</tr>
											</table>
									<!--	<ul class="actions">
											<li><a href="generic.html" class="button">Learn more</a></li>
											<li><a href="generic.html" class="button">Test</a></li>
										</ul> -->
									</div>
								</div>
							</section>
							<section>
								<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
								<div class="content">
									<div class="inner">
										<h2>Tempo</h2>
										<p>TranProse makes a number of simplifications in order to set a tempo for the melodic lines. Firstly, it assumes a common time
										meter. That is, there are four beats in a measure in a duple meter. However, the underlying priciple is easy to understand: the more
									active the input text, the higher the tempo. The less active, the lower the tempo. The original TransProse system calculates this directly via
									equation below:</p>
									<img style="width:75%;" src="images/tempo_mapping.png"></img>
									<p>However, because the authors make the max and min values dependent on their own corpus (which is not specified), we created a different
										linear mapping that encodes the same sort of relationship. In essence, each piece starts with a tempo of 90 beats per minute. That tempo
										is then modified by the ratio of active to passive densities in the input text.
									</div>
								</div>
							</section>
							<section>
								<a href="#" class="image"><img src="images/pic03.jpg" alt="" data-position="25% 25%" /></a>
								<div class="content">
									<div class="inner">
										<h2>Magenta</h2>
										<p>!!!</p>
									</div>
								</div>
							</section>
					</section>

				<!-- Two -->
					<section id="two" class="wrapper style3 fade-up">
						<div class="inner">
							<h2>Results and Output</h2>
							<p>Listen below for example output from various character descriptions as input</p>
							<div class="features">
								<section>
									<span class="icon solid major fa-code"></span>
									<h3>Luke Skywalker</h3>
									<p><a href="https://starwars.fandom.com/wiki/Luke_Skywalker">Luke Skywalker from Star Wars</a></p>
									<figure style="text-align: center;">
											<figcaption>Original Recording</figcaption>
											<audio
												controls
												src="clean_01.mp3">
													Your browser does not support the
													<code>audio</code> element.
											</audio>
									</figure>
								</section>
								<section>
									<span class="icon solid major fa-lock"></span>
									<h3>Darth Sidious</h3>
									<p><a href="https://starwars.fandom.com/wiki/Darth_Sidious">Darth Sidious (The Emperor) from Star Wars</a></p>
								</section>
								<section>
									<span class="icon solid major fa-link"></span>
									<h3>Bruce Wayne</h3>
									<p><a href="https://dc.fandom.com/wiki/Batman_(Bruce_Wayne)">Bruce Wayne from DC Comics</a></p>
								</section>
								<section>
									<span class="icon major fa-gem"></span>
									<h3>Harry Potter</h3>
									<p><a href="https://harrypotter.fandom.com/wiki/Harry_Potter">Harry Potter from the Harry Potter Universe</a></p>
								</section>
							</div>
						</div>
					</section>

				<!-- Three -->
					<section id="three" class="wrapper style1 fade-up">
						<div class="inner">
							<h2>About Us</h2>
							<div class="inner1">
									<p>TransProse 2.0 was built by:<br />Kevin Chan (kevinchan2019@u.northwestern.edu)<br/>Connor Bain (connorbain2015@u.northwestern.edu)</p>
									<div class="inner medium" style="margin-bottom: 10px">
										<a href="https://github.com/ke-chan/comp-creativity-soundtrack-generator" class="button">Source Code</a>
									</div>
									<div class="inner medium" style="margin-top: 30px">
										<p>TransProse 2.0 leverages the following Libraries:<br />Pickle, Magenta, NumPy, Pandas,Math, Beautiful Soup, and Pretty MIDI</p>
										<br>
									</div>
								</div>
						</div>
					</section>

			</div>

		<!-- Footer -->
			<footer id="footer" class="wrapper style1-alt">
				<div class="inner">
					<ul class="menu">
						<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
				</div>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
